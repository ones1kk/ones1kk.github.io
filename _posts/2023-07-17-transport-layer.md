---
title: 트랜스포트 계층(Transport Layer)
date: 2023-07-17 00:00:00 +09:00
categories: [ Computer Science, Network ]
tags: [ Transport, TCP, UDP ]
math: true
---

# Transport Layer

트랜스포트 계층 프로토콜은 각기 다른 호스트에서 동작하는 애플리케이션 프로세스간의 논리적 통신(logical communication)을 제공합니다. 
논리적 통신은 애플리케이션 관점에서 보면 프로세스들이 동작하는 호스트들이 직접 연결된 것처럼 보인다는 것을 의미합니다. 
또한 트랜스포트 계층은 프로토콜은 네트워크 라우터가 아닌 종단 시스템에서 구현됩니다. 
트랜스포트 계층 세그먼트라고 알려진 트랜스포트 계층 패킷으로 변환되어 네트워크 계층 패킷(데이터그램) 안에 캡슐화되어 목적지로 전달됩니다.(라우터는 데이터그램 안에 캡슐화된 트랜스포트 계층 세그먼트의 필드를 검사하지 않습니다.)  
이 후 수신 애플리케이션의 트랜스포트 계층에서 세그먼트 내부의 데이터를 이용할 수 있도록 수신된 세그먼트를 역캡슐화합니다. 

# 다중화(MultiPlexing)와 역다중화(Demultiplexing)

목적지 호스트에서의 트랜스포트 계층은 바로 아래의 네트워크 계층으로부터 세그먼트를 수신하고 호스트에서 동작하는 해당 애플리케이션 프로세스에게 이 세그먼트의 데이터를 전달하는 의무를 가집니다. 
네트워크 애플리케이션의 한 부분으로서 프로세스는 소켓(socket)을 가지고 있는데 이 소켓은 네트워크에서 프로세스로 데이터를 전달하고 프로세스로부터 네트워크로 데이터를 전달하는 출입구 역활을 합니다. 
트랜스포트 계층은 실제로 데이터를 직접 프로세스로 전달하지 않는 대신 중간 매개자인 소켓에 전달합니다. 
각각의 소켓은 하나의 유일한 식별자의 포맷을 통해 소켓이 UDP 소켓인지 TCP 소켓인지에 따라 달라집니다.  

수신 측의 트랜스포트 계층은 수신 소켓을 식별하기 위해 필드들을 검사하고 트랜스포트 계층 세그먼트의 데이터를 올바른 소켓으로 전달하는데 이런 작업을 **역다중화**라고 합니다. 
반대로 출발지 호스트에서 소켓으로부터 데이터를 모으고 이에 대한 세그먼트를 생성하기 위해 각 데이터에 헤더 정보로 캡슐화하고 그 세그먼트들을 네트워크 계층으로 전달하는 작업을 **다중화**라고 합니다. 

정리하자면 트랜스포트 계층 다중화에는 다음 두 가지 요구 사항이 있습니다.

1. 소켓은 유일한 식별자를 갖습니다. 
2. 각 세그먼트는 세그먼트가 전달될 적절한 소켓을 가리키는 특별한 필드를 갖습니다. 

이 특별한 필드라는 것은 출발지 포트 번호 필드(source port number field)와 목적지 포트 번호 필드(destination port number field)입니다.  
각각의 포트 번호는 0~65,535 까지의 16비트 정수입니다. 
그중에서 0~1023까지의 포트 번호를 잘 알려진 포트 번호(well-known port number)라고 하여 사용을 엄격하게 제한하고 있습니다. 
HTTP(80번), FTP(21번)처럼 잘 알려진 애플리케이션 프로토콜에서 사용되도록 예약 되어 있습니다. 

# 비연결형 트랜스포트: UDP

UDP는 트랜스포트 계층 프로토콜이 할 수 있는 최소 기능으로 동작합니다. 
UDP는 다중화/역다중화 기능과 간단한 오류 검사 기능을 제외하면 IP에 아무 것도 추가하지 않습니다. 
사실상 UDP로 통신한다는 것은 애플리케이션은 거의 IP와 직접 통신하는 셈입니다. 
UDP는 세그먼트를 송신하기 전에 송신 트랜스포트 계층 개체들과 수신 트랜스포트 계층 개체들 사이에 핸드셰이크를 사용하지 않기 때문에  UDP를 비연결형이라고 합니다.  

다음은 UDP가 비연결형 트랜스포트로서 가지는 장점입니다. 

- 무슨 데이터를 언제 보낼지에 대해 애플리케이션 레벨에서 더 정교한 제어: 
- 연결 설정이 없음:
- 연결 상태가 없음: 

##  UDP 세그먼트 구조

## UDP 체크섬 

# 연결지향형 트랜스포트 : TCP


오탈자 및 오류 내용을 댓글 또는 메일로 알려주시면, 검토 후 조치하겠습니다.
